ELM327_GUI 2025_10_07

InputDialog2.cs

using System.Runtime.CompilerServices;
using System.Windows;
using System.Windows.Controls; // Add this namespace for TextBox, Button, and other controls
using System.IO;

namespace ELM327_GUI
{
    public partial class InputDialog2 : Window
    {
        private TextBox inputTextBox;
        public string Result { get; private set; }

        public InputDialog2(string prompt, string title)
        {
            Title = title;
            Width = 600;
            Height = 150;
            WindowStartupLocation = WindowStartupLocation.CenterScreen;

            var stackPanel = new StackPanel { Margin = new Thickness(10) };

            var promptText = new TextBlock { Text = prompt, Margin = new Thickness(0, 0, 0, 10) };
            stackPanel.Children.Add(promptText);

            //inputTextBox = new TextBox { Text = defaultValue };
            //stackPanel.Children.Add(inputTextBox);

            var buttonPanel = new StackPanel { Orientation = Orientation.Horizontal, HorizontalAlignment = HorizontalAlignment.Right };
            var inputButton = new Button { Content = "Beírás", Width = 75, Margin = new Thickness(5, 0, 0, 0) };
            inputButton.Click += (s, e) =>
            {
                //var stackPanel1 = new StackPanel { Margin = new Thickness(10) };
                //MessageBox.Show("Kérem a PID parancsot vagy a parancs szabványos leírását, amelyik Önnek kényelmesebb!\r\n");
                inputTextBox = new TextBox { Text = "valami" };
                var dialogWindow = new Window
                {
                    Title = "Input",
                    Content = inputTextBox,
                    Width = 300,
                    Height = 150,
                    WindowStartupLocation = WindowStartupLocation.CenterScreen
                };
                dialogWindow.ShowDialog();

                //var inputDialog = new InputDialog("Kérem a PID parancsot vagy a parancs szabványos leírását, amelyik Önnek kényelmesebb!:", "PID parancs beírása", "010C");

                //stackPanel1.Children.Add(inputTextBox);
                //var okButton = new Button { Content = "OK", Width = 75, Margin = new Thickness(5, 0, 0, 0) };

                //buttonPanel.Children.Add(inputTextBox);




                //Result = inputTextBox.Text; DialogResult = true; Close(); };

            };
            var listButton = new Button { Content = "Lista", Width = 75, Margin = new Thickness(5, 0, 0, 0) };
            listButton.Click += (s, e) =>
            {
                string filePath = System.IO.Path.Combine(
                System.AppDomain.CurrentDomain.BaseDirectory, "Files", "FULL_PID_list_with_explanation.txt");
                var viewer = new FileViewerWindow(filePath);
                viewer.ShowDialog();

            };
            buttonPanel.Children.Add(inputButton);
            buttonPanel.Children.Add(listButton);

            stackPanel.Children.Add(buttonPanel);

            Content = stackPanel;


        }


        public new string ShowDialog()
        {
            return base.ShowDialog() == true ? Result : null;
        }

    }
}